@import 'colors';
@import 'utilities';

body {
	padding: 3rem 0 0 0;
}

section.music-snippet {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	h1 {
		text-align: center;
		line-height: 1.5;
	}
	h2 {
		text-align: center;
		margin-bottom: 1rem;
	}
	p {
		font-size: 1.25rem;
		line-height: 1.8;
		margin-bottom: 1.25rem;
		width: 50vw;
	}
	div.ata-music {
		display: flex;
		flex-direction: row;
		align-items: center;
		justify-content: center;
		overflow: hidden;
		width: 50vw;
		height: 50vh;
	}
	div.ata-music.excerpt-b, 
	div.ata-music.excerpt-c {
		width: 60vw;
		height: 35vh;
	}
	div.ata-music.excerpt-e {
		height: 20vh;
	}
	div.transport {
		background-color: $orange-yellow;
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		height: 100%;
		width: 140px;
		z-index: $music-controls-z; /* the SVG that Verovio outputs overlaps with the transport controls */
		margin: 0;
		padding: 0 1rem;
	}
	div.ata-music.excerpt-e div.transport {

	}
	.excerpt-a div.transport, .excerpt-b div.transport, .excerpt-c div.transport {
		/*justify-content: space-around;*/
	}
	button.atalanta-notation-start, 
	button.atalanta-notation-stop {
		background-position: center;
		background-size: contain;
		margin: -2rem 0 0 0;
		transform: scale(.5);
	}
	div.ata-music.excerpt-e button.atalanta-notation-start, 
	div.ata-music.excerpt-e button.atalanta-notation-stop {
		margin: 0;
	}
	div.transport button.atalanta-notation-start {
		background-image: url('../icons/icon_play-outline.svg');
		filter: hue-rotate(166deg) saturate(.32);
		/* starting fill hsla(41, 100%, 69%, 1) $orange-yellow_bright */
		/* rotated fill hsla(207, 32%, 89%, 1) $blue_light */
	}
	div.transport button.atalanta-notation-start:hover, .ata-music .transport .atalanta-notation-start:focus {
		background-image: url('../icons/icon_play-filled.svg');
		transition: .3s;
	}
	div.transport button.atalanta-notation-start.playing {
	  display: none;
	}

	div.transport button.atalanta-notation-stop {
		/*background-image: url('../icons/icon_pause-outline.svg');*/
		background-image: url('../icons/icon_pause-filled.svg');
		filter: hue-rotate(166deg) saturate(.32);
	}
	div.transport button.atalanta-notation-stop.playing {
		background-image: url('../icons/icon_pause-filled.svg');
	}
	div.transport button.atalanta-notation-stop.playing:hover, .ata-music .transport .atalanta-notation-stop.playing:focus {
		background-image: url('../icons/icon_pause-filled.svg');
		filter: hue-rotate(166deg) saturate(.1);
		transition: .3s;
	}
	div.transport .track-mute {
/*		outline: 5px solid black;*/
		display: flex;
		flex-direction: column;
		align-items: flex-start;
		justify-content: space-between;
		flex-basis: 1;
		height: 60%;
	}
	div.ata-music.excerpt-e div.transport div.track-mute {
		display: none;
	}
	div.transport .track-mute > button {
		font-size: .825rem;
		width: auto;
		line-height: 1;
		display: flex;
		flex-direction: column;
		margin-bottom: 1rem;
	}
	div.transport button.atalanta-notation-mute-track {
		/*background-image: url('../icons/icon_volume-outline.svg');*/
		background-image: none;
		display: flex;
		flex-direction: column;
		align-items: center;
		height: auto;
		padding: 0;
		
	}
	.mute-icon {
		background-image: url('../icons/icon_volume-outline.svg');
		filter: hue-rotate(166deg) saturate(.32);
		width: 100%;
		height: 25px;
		background-position: center;
		background-repeat: no-repeat;
		background-size: contain;
	}
	.mute-label {
		margin-top: .5rem;
		text-align: center;
		width: 100%;
	}
	.mute-icon:hover {
		background-image: url('../icons/icon_volume-filled.svg');
		transition: .3s;
	}
	div.transport button.atalanta-notation-mute-track:hover, div.transport button.atalanta-notation-mute-track:focus {
		/*background-image: url('../icons/icon_volume-filled.svg');*/
		transition: .3s;
	}
	div.transport button.atalanta-notation-mute-track.mute {
		/*background-image: url('../icons/icon_volume-mute-outline.svg');*/
	}
	div.transport button.atalanta-notation-mute-track.mute:hover, div.transport button.atalanta-notation-mute-track.mute:focus {
		/*background-image: url('../icons/icon_volume-mute-filled.svg');*/
		transition: .3s;
	}
	div.music-pages {
		padding-bottom: 5rem;
	}
	div.music-page {
		width: 100%;
	}
	div.music-page > svg {

	}
	.excerpt-a div.music-page > svg {
		transform: translate(35%, -80%) scale(3);
	}
	.excerpt-b div.music-page > svg {
		transform: translate(15%, -50%) scale(3);
	}
	.excerpt-c div.music-page > svg {
		transform: translate(15%, -50%) scale(3);
	}
	.excerpt-d div.music-page > svg {
		transform: translate(10%, -80%) scale(3);
	}
	.excerpt-e div.music-page > svg {
		transform: translate(10%, -100%) scale(4);
	}
	div.atalanta-notation__switch { /* remove piano roll in essays */
		display: none;
	}

	/* Playing notes */

	.ata-viz-cmn svg .note {
	  transition: fill 0.3s, stroke-width 0.3s;
	}
	.ata-viz-cmn svg .note.highlighted {
	  fill: $yellow_inverse;
	}
	.ata-viz-cmn svg .note.highlighted path {
	  stroke-width: 50;
	  stroke: $yellow_inverse;
	}
	.ata-viz-cmn svg .note.highlighted text {

	}
}

/*@supports (display: grid) {
	section.music-snippet {
		display: grid;
		grid-template-columns: repeat(12, 1fr);
		grid-template-rows: auto;
		h1, h2 {
			grid-column: 1 / 13;
		}
		p {
			grid-column: 4 / 10;
		}
		div.ata-music {
			display: grid;
			grid-column: 1 / 13;
			grid-template-columns: repeat(12, 1fr);
			grid-template-rows: auto;
		}
		div.transport {
			grid-column: 4/10;
			width: auto;
		}
		div.ata-viz-cmn {
			grid-column: 1 / 13;
		}
		div.music-pages {
			padding-bottom: 4rem;
		}
	}
}*/

/* small  -  mobile */
@media screen and (min-width: 320px) and (max-width: 767px) {
	section.music-snippet {
		div.ata-music {
			justify-content: flex-start;
			flex-direction: column;
			min-height: 50vh;
			margin-top: 1rem;
			width: 100%;
		}
		div.ata-music.excerpt-b, 
		div.ata-music.excerpt-c {
			min-height: 40vh;
			width: 100%;
		}
		div.ata-music.excerpt-e {
			min-height: 40vh;
		}
		div.transport {
			flex-direction: row;
			justify-content: space-around;
			height: auto;
			margin-bottom: 2rem;
			padding: 0;
			width: 100%;
		}
		button.atalanta-notation-start, button.atalanta-notation-stop {
			margin: 0;
			transform: scale(.7);
		}
		div.transport .track-mute {
			justify-content: space-around;
			height: 6rem;
		}
		div.transport .track-mute > button {
			flex-direction: row;
			line-height: 1.2;
			margin-bottom: 0;
			width: 50vw;
			text-align: left;
			height: 2rem;
		}
		div.transport button.atalanta-notation-mute-track {
			flex-direction: row;
			align-items: center;
			justify-content: flex-start;
			height: 2rem;
		}
		.mute-icon {
			margin-right: .325rem;
			width: 25px;
		}
		.mute-label {
			width: auto;
			height: auto;
			margin: 0;
		}
		.excerpt-a div.music-page > svg {
			transform: translate(25%, -80%) scale(3);
		}
		.excerpt-b div.music-page > svg {
			transform: translate(10%, -100%) scale(3);
		}
		.excerpt-c div.music-page > svg {
			transform: translate(12%, -100%) scale(3);
		}
		.excerpt-e div.music-page > svg {
			transform: translate(0%, -100%) scale(2.375);
		}
	}
}
/* medium  -  tablet */
@media screen and (min-width: 768px) and (max-width: 999px) {
	section.music-snippet {
		/*background-color: yellow;*/
		div.ata-music {
			height: 40vh;
			width: 100%;
		}
		div.ata-music.excerpt-b, 
		div.ata-music.excerpt-c {
			height: 35vh;
			width: 100%;
		}
		.excerpt-a div.music-page > svg {
			transform: translate(25%, -80%) scale(3);
		}
		.excerpt-b div.music-page > svg {
			transform: translate(10%, -50%) scale(3);
		}
		.excerpt-c div.music-page > svg {
			transform: translate(12%, -80%) scale(3);
		}
		.excerpt-e div.music-page > svg {
			transform: translate(0%, -40%) scale(2.375);
		}
	}
}
/* medium-large */
@media screen and (min-width: 1000px) and (max-width: 1199px) {
	section.music-snippet {
		/*background-color: pink;*/
		div.ata-music {
			height: 50vh;
			width: 80vw;
		}
		div.ata-music.excerpt-b, 
		div.ata-music.excerpt-c {
			height: 35vh;
			width: 80vw;
		}
		div.ata-music.excerpt-e {
			height: 18vh;
			width: 95vw;
		}
		.excerpt-c div.music-page > svg {
			transform: translate(12%, -85%) scale(3);
		}
		.excerpt-e div.music-page > svg {
			transform: translate(0%, -50%) scale(2.375);
		}
	}
}
/* large  -  laptop */
@media screen and (min-width: 1200px) and (max-width: 1499px) {
	section.music-snippet {
		/*background-color: orange;*/
		div.ata-music.excerpt-e {
			height: 20vh;
			width: 85vw;
		}
		.excerpt-a div.music-page > svg {
			transform: translate(35%, -80%) scale(3.5);
		}
		.excerpt-e div.music-page > svg {
			transform: translate(5%, -60%) scale(2.25);
		}
	}
}
/* large  -  desktop */
@media screen and (min-width: 1500px) and (max-width: 1999px) {
	section.music-snippet {
		/*background-color: red;*/
		div.ata-music.excerpt-e {
			height: 20vh;
			width: 70vw;
		}
		.excerpt-b div.music-page > svg {
			transform: translate(10%, -85%) scale(3);
		}
		.excerpt-c div.music-page > svg {
			transform: translate(12%, -85%) scale(3);
		}
		.excerpt-e div.music-page > svg {
			transform: translate(5%, -60%) scale(2.25);
		}
	}	
}
/* extra-large */
@media screen and (min-width: 2000px) and (max-width: 2800px) {
	section.music-snippet {
		/*background-color: blue;*/
		div.ata-music.excerpt-b, 
		div.ata-music.excerpt-c {
			height: 25vh;
			width: 45vw;
		}
		div.ata-music.excerpt-e {
			height: 20vh;
			width: 60vw;
		}
		.excerpt-b div.music-page > svg {
			transform: translate(10%, -80%) scale(3);
		}
		.excerpt-c div.music-page > svg {
			transform: translate(10%, -85%) scale(3);
		}
		.excerpt-e div.music-page > svg {
			transform: translate(5%, -60%) scale(2.25);
		}
	}
}
/* xxl */
@media screen and (min-width: 2801px) {
	section.music-snippet {
		/*background-color: green;*/
		div.ata-music.excerpt-b, 
		div.ata-music.excerpt-c {
			height: 25vh;
			width: 45vw;
		}
		div.ata-music.excerpt-e {
			height: 20vh;
			width: 60vw;
		}
		.excerpt-b div.music-page > svg {
			transform: translate(10%, -80%) scale(3);
		}
		.excerpt-c div.music-page > svg {
			transform: translate(10%, -85%) scale(3);
		}
		.excerpt-e div.music-page > svg {
			transform: translate(5%, -60%) scale(2.25);
		}
	}
}